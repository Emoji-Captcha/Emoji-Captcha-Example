var x=Object.defineProperty,N=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var h=(r,e,s)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,p=(r,e)=>{for(var s in e||(e={}))S.call(e,s)&&h(r,s,e[s]);if(m)for(var s of m(e))O.call(e,s)&&h(r,s,e[s]);return r},f=(r,e)=>N(r,v(e));import{j as y,r as u,R as w,a as C}from"./vendor.ad96bd1c.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};E();const o=y.exports.jsx,d=y.exports.jsxs,j="http://localhost:8080/api/",F=()=>{const[r,e]=u.exports.useState(),[s,i]=u.exports.useState(),t=u.exports.useRef(null),n=()=>{var a;i(null),(a=t.current)==null||a.reset(),fetch(j+"captcha").then(async c=>e(await c.json()))};u.exports.useEffect(()=>{n()},[]);const l=async a=>{a.preventDefault();const c=new FormData(a.currentTarget),g=Object.fromEntries(c),b=await(await fetch(j+"submit",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(f(p({},g),{answer:r==null?void 0:r.answer}))})).json();i(b.isCorrect)};return r?d("div",{className:"App",children:[o("h1",{children:"Welcome to Emoji Captcha"}),o("p",{children:"Say hi to next gen emoji captchas \u{1F44B}"}),d("form",{ref:t,onSubmit:l,children:[o("input",{name:"name",type:"text",defaultValue:"Cool guy",className:"name",required:!0,placeholder:"Your name"}),d("p",{children:["Please select ",r.question," "]}),o("div",{className:"emoji-container",children:r.emojis.map((a,c)=>d("div",{className:"emoji",children:[o("input",{required:!0,type:"radio",name:"selectedEmoji",value:c,id:c+""}),o("label",{htmlFor:c+"",children:o("img",{src:a,alt:"you are fucked"})})]},c))}),o("button",{onClick:n,children:"Get another"}),o("br",{}),o("button",{className:"submit",children:"Submit"})]}),o("div",{className:"result-box",children:s===!1?o("h2",{className:"red",children:"Oops! Thats not right \u{1F629}"}):s===!0?o("h2",{className:"green",children:"Yay! You picked the right emoji \u{1F607}"}):""})]}):o("h1",{children:"Hold on we are fetching emojis"})};w.render(o(C.StrictMode,{children:o(F,{})}),document.getElementById("root"));
